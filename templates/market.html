<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="utf-8">
  <title>Forex - Stock - Crypto - Commodity</title>
  <link rel="stylesheet" href="/static/style.css">
</head>
<body class="portrait">
  <header class="topbar">
    <div class="brand">üìä Forex - Stock - Crypto - Commodity</div>
    <div class="datetime" id="clock">--:--:--</div>
  </header>

  <main class="main-center">
    <section class="grid-2x2">
      <div class="card small">
        <h3>üåê Forex</h3>
        <table class="mini-table">
          {% for k,v in data.forex.items() %}
          <tr><td class="left">{{ k }}</td><td class="{{ 'up' if v.change=='‚ñ≤' else 'down' }}">{{ v.price }} {{ v.change }} ({{ v.percent }}%)</td></tr>
          {% endfor %}
        </table>
      </div>

      <div class="card small">
        <h3>üìà Stock</h3>
        <table class="mini-table">
          {% for k,v in data.stock.items() %}
          <tr><td class="left">{{ k }}</td><td class="{{ 'up' if v.change=='‚ñ≤' else 'down' }}">{{ v.price }} {{ v.change }} ({{ v.percent }}%)</td></tr>
          {% endfor %}
        </table>
      </div>

      <div class="card small">
        <h3>üí∞ Crypto</h3>
        <table class="mini-table">
          {% for k,v in data.crypto.items() %}
          <tr><td class="left">{{ k }}</td><td class="{{ 'up' if v.change=='‚ñ≤' else 'down' }}">{{ v.price }} {{ v.change }} ({{ v.percent }}%)</td></tr>
          {% endfor %}
        </table>
      </div>

      <div class="card small">
        <h3>üèó Commodity</h3>
        <table class="mini-table">
          {% for k,v in data.commodity.items() %}
          <tr><td class="left">{{ k }}</td><td class="{{ 'up' if v.change=='‚ñ≤' else 'down' }}">{{ v.price }} {{ v.change }} ({{ v.percent }}%)</td></tr>
          {% endfor %}
        </table>
      </div>
    </section>

    <section class="vnindex-box card">
      <h3>üáªüá≥ VNINDEX</h3>
      {% if data.stock.get('VNINDEX') %}
        <div class="vn-value">{{ data.stock.VNINDEX.price }}</div>
        <div class="{{ 'up' if data.stock.VNINDEX.change=='‚ñ≤' else 'down' }}">{{ data.stock.VNINDEX.change }} {{ data.stock.VNINDEX.percent }}%</div>
      {% else %}
        <div>Kh√¥ng c√≥ d·ªØ li·ªáu VNINDEX</div>
      {% endif %}
    </section>

    <section class="card stock-list">
      <h3>üî• C·ªï phi·∫øu ti·ªÅm nƒÉng</h3>
      <table class="full-table">
        <thead><tr><th class="left">M√£</th><th>Gi√° cao nh·∫•t</th><th>Gi√° th·∫•p nh·∫•t</th></tr></thead>
        <tbody>
        {% for s in data.symbols %}
          <tr><td class="left">{{ s.symbol }}</td><td>{{ s.highest_price }}</td><td>{{ s.lowest_price }}</td></tr>
        {% endfor %}
        </tbody>
      </table>
      <div class="updated">C·∫≠p nh·∫≠t: {{ data.updated }}</div>
    </section>
  </main>

<script>
function updateClock(){
  const now=new Date();
  const opts={timeZone:'Asia/Ho_Chi_Minh',hour12:false,year:'numeric',month:'2-digit',day:'2-digit',hour:'2-digit',minute:'2-digit',second:'2-digit'};
  document.getElementById('clock').textContent=new Intl.DateTimeFormat('vi-VN',opts).format(now);
}
updateClock(); setInterval(updateClock,1000);
</script>
</body>
</html>